(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6636:(e,t,s)=>{Promise.resolve().then(s.bind(s,7572))},7572:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var o=s(5155),a=s(2115);let n={focus:1500,shortBreak:300,longBreak:900};function r(e){let{mode:t,timeLeft:s,isRunning:a,sessionsCompleted:n,activeTaskId:r,tasks:l,onStart:i,onPause:d,onSkip:c,onReset:m}=e,u=r?l.find(e=>e.id===r):null;return(0,o.jsx)("div",{className:"bg-gradient-to-br ".concat({focus:"from-red-600 to-orange-600",shortBreak:"from-blue-600 to-cyan-600",longBreak:"from-blue-700 to-cyan-700"}[t]," rounded-2xl p-8 text-white shadow-lg"),children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h2",{className:"text-2xl font-light mb-4",children:{focus:"Focus Time",shortBreak:"Short Break",longBreak:"Long Break"}[t]}),(0,o.jsx)("div",{className:"text-6xl font-light mb-8 font-mono",children:(e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(s)}),(0,o.jsxs)("div",{className:"flex justify-center gap-4 mb-6",children:[(0,o.jsx)("button",{onClick:a?d:i,className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full font-medium transition-all text-gray-900",children:a?"Pause":"Start"}),(0,o.jsx)("button",{onClick:c,className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full font-medium transition-all text-gray-900",children:"Skip"}),(0,o.jsx)("button",{onClick:m,className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-3 rounded-full font-medium transition-all text-gray-900",children:"Reset"})]}),u&&(0,o.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-gray-900",children:[(0,o.jsx)("p",{className:"text-sm opacity-80",children:"Working on:"}),(0,o.jsx)("p",{className:"font-medium",children:u.name})]}),(0,o.jsx)("div",{className:"mt-6 flex justify-center",children:(0,o.jsx)("div",{className:"flex gap-2",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,o.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(t<(n%4==0&&n>0?4:n%4)?"bg-white":"border-2 border-white bg-transparent")},t))})})]})})}var l=s(2502),i=s(4065);function d(e){let{dailyStats:t}=e,s=()=>{let e=[];for(let s=6;s>=0;s--){let o=new Date;o.setDate(o.getDate()-s);let a=o.toISOString().split("T")[0],n=t.find(e=>e.date===a);e.push({date:a,day:o.toLocaleDateString("en",{weekday:"short"}),sessions:(null==n?void 0:n.sessions)||0})}return e};return(0,o.jsxs)("div",{className:"bg-stone-800 rounded-2xl p-6 shadow-sm mt-6 border border-stone-700",children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-amber-100 mb-4",children:"Daily Performance"}),(0,o.jsx)("div",{className:"h-32",children:(0,o.jsx)(i.yP,{data:{labels:s().map(e=>e.day),datasets:[{label:"Sessions",data:s().map(e=>e.sessions),backgroundColor:"rgba(234, 88, 12, 0.8)",borderColor:"rgba(234, 88, 12, 1)",borderWidth:1,borderRadius:4,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"rgb(245, 245, 244)",bodyColor:"rgb(245, 245, 244)",borderColor:"rgba(120, 113, 108, 0.3)",borderWidth:1,callbacks:{label:e=>"".concat(e.parsed.y," sessions")}}},scales:{x:{grid:{display:!1},ticks:{color:"rgb(120, 113, 108)",font:{size:12}}},y:{beginAtZero:!0,grid:{color:"rgba(120, 113, 108, 0.2)"},ticks:{color:"rgb(120, 113, 108)",font:{size:12},stepSize:1}}}}})})]})}function c(e){let{onAdd:t,onCancel:s,initialName:n="",initialColor:r="bg-cyan-600",isEditing:l=!1}=e,[i,d]=(0,a.useState)(n),[c,m]=(0,a.useState)(r);return(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&t(i.trim(),c)},className:"mb-4 p-3 bg-stone-700 rounded-lg border border-stone-600",children:[(0,o.jsx)("input",{type:"text",placeholder:"Project name",value:i,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-stone-500 rounded mb-3 text-sm bg-stone-600 text-amber-100 placeholder-stone-400",autoFocus:!0}),(0,o.jsx)("div",{className:"flex gap-2 mb-3",children:["bg-cyan-600","bg-green-600","bg-purple-600","bg-pink-600","bg-yellow-600","bg-indigo-600","bg-red-600","bg-orange-600"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>m(e),className:"w-6 h-6 rounded-full ".concat(e," ").concat(c===e?"ring-2 ring-amber-400":"")},e))}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("button",{type:"submit",className:"flex-1 bg-cyan-600 text-white py-2 rounded text-sm hover:bg-cyan-500 transition-colors",children:l?"Update":"Add"}),(0,o.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-stone-400 hover:text-stone-300 text-sm",children:"Cancel"})]})]})}function m(e){let{projects:t,tasks:s,onAddProject:n,onEditProject:r,onDeleteProject:l}=e,[i,d]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),x=m?t.find(e=>e.id===m):null;return(0,o.jsxs)("div",{className:"bg-stone-800 rounded-2xl p-6 shadow-sm border border-stone-700",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-amber-100",children:"Projects"}),(0,o.jsx)("button",{onClick:()=>d(!0),className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:"+ Add"})]}),i&&(0,o.jsx)(c,{onAdd:(e,t)=>{n(e,t),d(!1)},onCancel:()=>d(!1)}),x&&(0,o.jsx)(c,{initialName:x.name,initialColor:x.color,onAdd:(e,t)=>{m&&(r(m,e,t),u(null))},onCancel:()=>{u(null)},isEditing:!0}),(0,o.jsx)("div",{className:"space-y-3",children:t.map(e=>{let t;return(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,o.jsx)("span",{className:"text-stone-300",children:e.name})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-sm text-stone-400",children:(t=e.id,s.filter(e=>e.projectId===t).reduce((e,t)=>e+t.completedSessions,0))}),"default"!==e.id&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>{u(e.id),d(!1)},className:"text-amber-400 hover:text-amber-300 text-sm",children:"✎"}),(0,o.jsx)("button",{onClick:()=>l(e.id),className:"text-red-400 hover:text-red-300 text-sm",children:"\xd7"})]})]})]},e.id)})})]})}function u(e){var t;let{projects:s,onAdd:n,onCancel:r,initialName:l="",initialProjectId:i,initialTargetSessions:d=4,isEditing:c=!1}=e,[m,u]=(0,a.useState)(l),[x,p]=(0,a.useState)(i||(null==(t=s[0])?void 0:t.id)||""),[b,g]=(0,a.useState)(d);return(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m.trim()&&n(m.trim(),x,b)},className:"mb-4 p-3 bg-stone-700 rounded-lg border border-stone-600",children:[(0,o.jsx)("input",{type:"text",placeholder:"Task name",value:m,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-stone-500 rounded mb-2 text-sm bg-stone-600 text-amber-100 placeholder-stone-400",autoFocus:!0}),(0,o.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,o.jsx)("select",{value:x,onChange:e=>p(e.target.value),className:"flex-1 px-3 py-2 border border-stone-500 rounded text-sm bg-stone-600 text-amber-100",children:s.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,o.jsx)("input",{type:"number",value:b,onChange:e=>g(Math.max(1,parseInt(e.target.value)||1)),className:"w-20 px-3 py-2 border border-stone-500 rounded text-sm bg-stone-600 text-amber-100",min:"1"})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("button",{type:"submit",className:"flex-1 bg-cyan-600 text-white py-2 rounded text-sm hover:bg-cyan-500 transition-colors",children:c?"Update":"Add"}),(0,o.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-stone-400 hover:text-stone-300 text-sm",children:"Cancel"})]})]})}function x(e){let{tasks:t,projects:s,activeTaskId:n,onAddTask:r,onEditTask:l,onDeleteTask:i,onUpdateTaskSessions:d,onSetActiveTask:c}=e,[m,x]=(0,a.useState)(!1),[p,b]=(0,a.useState)(null),g=p?t.find(e=>e.id===p):null;return(0,o.jsxs)("div",{className:"bg-stone-800 rounded-2xl p-6 shadow-sm border border-stone-700",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-amber-100",children:"Tasks"}),(0,o.jsx)("button",{onClick:()=>x(!0),className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:"+ Add"})]}),m&&(0,o.jsx)(u,{projects:s,onAdd:(e,t,s)=>{r(e,t,s),x(!1)},onCancel:()=>x(!1)}),g&&(0,o.jsx)(u,{projects:s,initialName:g.name,initialProjectId:g.projectId,initialTargetSessions:g.targetSessions,onAdd:(e,t,s)=>{p&&(l(p,e,t,s),b(null))},onCancel:()=>{b(null)},isEditing:!0}),(0,o.jsx)("div",{className:"space-y-3",children:t.map(e=>{let t=s.find(t=>t.id===e.projectId);return(0,o.jsxs)("div",{className:"p-3 rounded-lg border-2 cursor-pointer transition-colors ".concat(n===e.id?"border-orange-500 bg-orange-900 bg-opacity-20":"border-stone-600 hover:border-stone-500 bg-stone-700"),onClick:()=>{var t;c((t=e.id)===n?null:t)},children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)("span",{className:"font-medium text-amber-100",children:e.name}),(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),b(e.id),x(!1)},className:"text-amber-400 hover:text-amber-300 text-sm",children:"✎"}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e.id)},className:"text-red-400 hover:text-red-300 text-sm",children:"\xd7"})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(null==t?void 0:t.color)}),(0,o.jsx)("span",{className:"text-stone-400",children:null==t?void 0:t.name})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e.id,e.completedSessions-1)},className:"text-stone-400 hover:text-stone-300 w-6 h-6 flex items-center justify-center rounded",children:"−"}),(0,o.jsxs)("span",{className:"text-amber-200",children:[e.completedSessions,"/",e.targetSessions]}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e.id,e.completedSessions+1)},className:"text-stone-400 hover:text-stone-300 w-6 h-6 flex items-center justify-center rounded",children:"+"})]})]})]},e.id)})})]})}function p(){let[e,t]=(0,a.useState)("focus"),[s,l]=(0,a.useState)(n.focus),[i,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(0),[b,g]=(0,a.useState)(null),[h,f]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),[v,y]=(0,a.useState)([]),S=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=localStorage.getItem("pomodoro-projects"),t=localStorage.getItem("pomodoro-tasks"),s=localStorage.getItem("pomodoro-stats");if(e&&f(JSON.parse(e)),t&&N(JSON.parse(t)),s&&y(JSON.parse(s)),!e){let e={id:"default",name:"Personal",color:"bg-yellow-600"};f([e]),localStorage.setItem("pomodoro-projects",JSON.stringify([e]))}},[]),(0,a.useEffect)(()=>{localStorage.setItem("pomodoro-projects",JSON.stringify(h))},[h]),(0,a.useEffect)(()=>{localStorage.setItem("pomodoro-tasks",JSON.stringify(j))},[j]),(0,a.useEffect)(()=>{localStorage.setItem("pomodoro-stats",JSON.stringify(v))},[v]),(0,a.useEffect)(()=>(i&&s>0?S.current=setInterval(()=>{l(e=>e-1)},1e3):S.current&&(clearInterval(S.current),S.current=null),()=>{S.current&&clearInterval(S.current)}),[i,s]),(0,a.useEffect)(()=>{if(0===s&&i)if(c(!1),"focus"===e){p(e=>e+1),b&&N(e=>e.map(e=>e.id===b?{...e,completedSessions:e.completedSessions+1}:e));let e=new Date().toISOString().split("T")[0];y(t=>t.find(t=>t.date===e)?t.map(t=>t.date===e?{...t,sessions:t.sessions+1}:t):[...t,{date:e,sessions:1}]);let s=u%4==0?"longBreak":"shortBreak";t(s),l(n[s])}else t("focus"),l(n.focus)},[s,i,e,u,b]),(0,o.jsx)("div",{className:"min-h-screen bg-stone-900 p-4",children:(0,o.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,o.jsxs)("header",{className:"text-center mb-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-light text-amber-100 mb-2",children:"Minimalist Pomodoro"}),(0,o.jsx)("p",{className:"text-stone-400",children:"Stay focused, get things done"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,o.jsxs)("div",{className:"lg:col-span-2",children:[(0,o.jsx)(r,{mode:e,timeLeft:s,isRunning:i,sessionsCompleted:u,activeTaskId:b,tasks:j,onStart:()=>c(!0),onPause:()=>c(!1),onSkip:()=>{if(c(!1),"focus"===e){let e=u+1;p(e),b&&N(e=>e.map(e=>e.id===b?{...e,completedSessions:e.completedSessions+1}:e));let s=new Date().toISOString().split("T")[0];y(e=>e.find(e=>e.date===s)?e.map(e=>e.date===s?{...e,sessions:e.sessions+1}:e):[...e,{date:s,sessions:1}]);let o=e%4==0?"longBreak":"shortBreak";t(o),l(n[o])}else t("focus"),l(n.focus)},onReset:()=>{c(!1),l(n[e])}}),(0,o.jsx)(d,{dailyStats:v})]}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)(m,{projects:h,tasks:j,onAddProject:(e,t)=>{let s={id:Date.now().toString(),name:e,color:t};f(e=>[...e,s])},onEditProject:(e,t,s)=>{f(o=>o.map(o=>o.id===e?{...o,name:t,color:s}:o))},onDeleteProject:e=>{"default"!==e&&(f(t=>t.filter(t=>t.id!==e)),N(t=>t.map(t=>t.projectId===e?{...t,projectId:"default"}:t)))}}),(0,o.jsx)(x,{tasks:j,projects:h,activeTaskId:b,onAddTask:(e,t,s)=>{let o={id:Date.now().toString(),name:e,projectId:t,completedSessions:0,targetSessions:s};N(e=>[...e,o])},onEditTask:(e,t,s,o)=>{N(a=>a.map(a=>a.id===e?{...a,name:t,projectId:s,targetSessions:o}:a))},onDeleteTask:e=>{N(t=>t.filter(t=>t.id!==e)),b===e&&g(null)},onUpdateTaskSessions:(e,t)=>{N(s=>s.map(s=>s.id===e?{...s,completedSessions:Math.max(0,t)}:s))},onSetActiveTask:g})]})]})]})})}l.t1.register(l.PP,l.kc,l.E8,l.hE,l.m_,l.s$)}},e=>{e.O(0,[647,579,441,964,358],()=>e(e.s=6636)),_N_E=e.O()}]);